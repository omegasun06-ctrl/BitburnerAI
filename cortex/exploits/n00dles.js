// noinspection JSUnresolvedFunction,JSUnresolvedVariable

/**
 *
 * @returns {Promise<void>}
 */
export async function main() {
	let boxes = Array.from(eval('document').querySelectorAll('[class*=MuiBox-root]'));
	let box = boxes.find(x => hasPlayer(x));

	if (box) {
		let props = getProps(box);
		props.router.toLocation({name: 'Noodle Bar', types: [4]});
		[...eval('document').getElementsByTagName('*')].find(e => e.innerText === 'Eat noodles').click();
	}
}

/**
 *
 * @param {Object} obj
 * @returns {Object}
 */
function getProps(obj) {
	return Object.entries(obj).find(entry => entry[0].startsWith('__reactProps'))[1].children.props;
}

/**
 *
 * @param {Object} obj
 * @returns {boolean}
 */
function hasPlayer(obj) {
	try {
		return !!getProps(obj).router;
	} catch (err) {
		return false;
	}
}